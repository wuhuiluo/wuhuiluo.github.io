<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>高频自测 | 林间有风</title><meta name="description" content="高频考点自测typeof类型判断 typeof 是否能正确判断类型？instanceof 能正确判断对象的原理是什么   typeof对于原始数据类型来说除了null都可以显示正确的类型  12345typeof 1 &#x2F;&#x2F; &#39;number&#39;typeof &#39;1&#39; &#x2F;&#x2F; &#39;string&#39;typeof undefin"><meta name="keywords" content="Vue,面试,CSDN,ES6,React,前端"><meta name="author" content="林间有风"><meta name="copyright" content="林间有风"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="高频自测"><meta name="twitter:description" content="高频考点自测typeof类型判断 typeof 是否能正确判断类型？instanceof 能正确判断对象的原理是什么   typeof对于原始数据类型来说除了null都可以显示正确的类型  12345typeof 1 &#x2F;&#x2F; &#39;number&#39;typeof &#39;1&#39; &#x2F;&#x2F; &#39;string&#39;typeof undefin"><meta name="twitter:image" content="https://wuhuiluo.github.io/img/post.jpg"><meta property="og:type" content="article"><meta property="og:title" content="高频自测"><meta property="og:url" content="https://wuhuiluo.github.io/posts/16835/"><meta property="og:site_name" content="林间有风"><meta property="og:description" content="高频考点自测typeof类型判断 typeof 是否能正确判断类型？instanceof 能正确判断对象的原理是什么   typeof对于原始数据类型来说除了null都可以显示正确的类型  12345typeof 1 &#x2F;&#x2F; &#39;number&#39;typeof &#39;1&#39; &#x2F;&#x2F; &#39;string&#39;typeof undefin"><meta property="og:image" content="https://wuhuiluo.github.io/img/post.jpg"><meta property="article:published_time" content="2021-05-27T05:10:09.881Z"><meta property="article:modified_time" content="2021-05-27T05:10:22.119Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://wuhuiluo.github.io/posts/16835/"><link rel="next" title="HTTP总结" href="https://wuhuiluo.github.io/posts/41384/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: true,
  isPhotoFigcaption: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><link rel="stylesheet" href="/gitcalendar/css/gitcalendar.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/sviptzk/HexoStaticFile@master/Hexo/css/flink.min.css"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://ae01.alicdn.com/kf/Hce9d0e3650b14688bf616ea3e409c5ebT.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">15</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">5</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list" aria-hidden="true"></i><span> 媒体</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fab fa-youtube"></i><span> 番剧</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书单</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/talk/"><i class="fa-fw far fa-comment"></i><span> 微语</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw far fa-image"></i><span> 相册</span></a></li><li><a class="site-page" href="/home/"><i class="fa-fw fab fa-phoenix-framework"></i><span> 主页</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#高频考点自测"><span class="toc-number">1.</span> <span class="toc-text">高频考点自测</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#typeof类型判断"><span class="toc-number">1.1.</span> <span class="toc-text">typeof类型判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new的原理"><span class="toc-number">1.2.</span> <span class="toc-text">new的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#instanceof的原理"><span class="toc-number">1.3.</span> <span class="toc-text">instanceof的原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#实现以下instanceof"><span class="toc-number">1.3.1.</span> <span class="toc-text">实现以下instanceof</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#说说CSS盒模型-如何进行不同和模型的切换"><span class="toc-number">1.4.</span> <span class="toc-text">说说CSS盒模型,如何进行不同和模型的切换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#能不能说一说浏览器本地存储？各自的优缺点"><span class="toc-number">1.5.</span> <span class="toc-text">能不能说一说浏览器本地存储？各自的优缺点?</span></a></li></ol></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(/img/post.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">林间有风</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fas fa-list" aria-hidden="true"></i><span> 媒体</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/bangumis/"><i class="fa-fw fab fa-youtube"></i><span> 番剧</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 电影</span></a></li><li><a class="site-page" href="/books/"><i class="fa-fw fas fa-book"></i><span> 书单</span></a></li><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/talk/"><i class="fa-fw far fa-comment"></i><span> 微语</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-heartbeat" aria-hidden="true"></i><span> 清单</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/gallery/"><i class="fa-fw far fa-image"></i><span> 相册</span></a></li><li><a class="site-page" href="/home/"><i class="fa-fw fab fa-phoenix-framework"></i><span> 主页</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/contact/"><i class="fa-fw far fa-comments"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 关于</span></a></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">高频自测</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2021-05-27 13:10:09"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2021-05-27</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2021-05-27 13:10:22"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2021-05-27</span></time></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon far fa-file-word" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">2k</span><span class="post-meta__separator">|</span><i class="post-meta__icon far fa-clock" aria-hidden="true"></i><span>阅读时长: 6 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"><span class="post-meta__separator">|</span><i class="post-meta__icon far fa-comments" aria-hidden="true"></i><span>评论数:</span><a href="/posts/16835/#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/posts/16835/" itemprop="commentCount"></span></a></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div id="article-container"><h1 id="高频考点自测"><a href="#高频考点自测" class="headerlink" title="高频考点自测"></a>高频考点自测</h1><h2 id="typeof类型判断"><a href="#typeof类型判断" class="headerlink" title="typeof类型判断"></a>typeof类型判断</h2><blockquote>
<p>typeof 是否能正确判断类型？instanceof 能正确判断对象的原理是什么</p>
</blockquote>
<ul>
<li>typeof对于原始数据类型来说除了null都可以显示正确的类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">typeof 1 &#x2F;&#x2F; &#39;number&#39;</span><br><span class="line">typeof &#39;1&#39; &#x2F;&#x2F; &#39;string&#39;</span><br><span class="line">typeof undefined &#x2F;&#x2F; &#39;undefined&#39;</span><br><span class="line">typeof true &#x2F;&#x2F; &#39;boolean&#39;</span><br><span class="line">typeof Symbol() &#x2F;&#x2F; &#39;symbol&#39;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>typeof对于对象来说，除了函数都会显示object，所以typeof不能准确判断变量倒地是什么类型</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">typeof [] &#x2F;&#x2F; &#39;object&#39;</span><br><span class="line">typeof &#123;&#125; &#x2F;&#x2F; &#39;object&#39;</span><br><span class="line">typeof console.log &#x2F;&#x2F; &#39;function&#39;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果我们想判断一个对象的正确类型，这时候可以考虑用<code>instanceof</code>因为内部机制是通过原型链来判断的</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">const Person &#x3D; function() &#123;&#125;</span><br><span class="line">const p1 &#x3D; new Person()</span><br><span class="line">p1 instanceof Person &#x2F;&#x2F; true</span><br><span class="line"></span><br><span class="line">var str &#x3D; &#39;hello world&#39;</span><br><span class="line">str instanceof String &#x2F;&#x2F; false</span><br><span class="line"></span><br><span class="line">var str1 &#x3D; new String(&#39;hello world&#39;)</span><br><span class="line">str1 instanceof String &#x2F;&#x2F; true</span><br></pre></td></tr></table></figure>

<blockquote>
<p>对于原始数据类型来说，你想直接通过instanceof来判断数据类型是不行的</p>
</blockquote>
<h2 id="new的原理"><a href="#new的原理" class="headerlink" title="new的原理"></a>new的原理</h2><p><strong>在调用new的过程中会发生四件事</strong></p>
<ul>
<li>新生成一个对象</li>
<li>链接到原型</li>
<li>绑定this</li>
<li>返回新对象</li>
</ul>
<blockquote>
<p>根据以上过程自己实现一个new</p>
</blockquote>
<ul>
<li>创建一个空对象</li>
<li>获取构造函数</li>
<li>设置空对象的原型</li>
<li>绑定this并执行构造函数</li>
<li>确保返回值为对象</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function create() &#123;</span><br><span class="line">    let obj &#x3D; &#123;&#125;</span><br><span class="line">    let Con &#x3D; [].shift.call(arguments)</span><br><span class="line">    obj.__proto__ &#x3D; Con.prototype</span><br><span class="line">    let result &#x3D; Con.apply(obj,arguments)</span><br><span class="line">    return result instanceof Object ? result : obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="instanceof的原理"><a href="#instanceof的原理" class="headerlink" title="instanceof的原理"></a>instanceof的原理</h2><p><code>instanceof</code>可以正确的判断对象的类型，因为内部机制是通过判断对象的原型链是不是能够找到类型的<code>prototype</code></p>
<h3 id="实现以下instanceof"><a href="#实现以下instanceof" class="headerlink" title="实现以下instanceof"></a>实现以下instanceof</h3><ul>
<li>获取类型的原型</li>
<li>获取对象的原型</li>
<li>然后一直循环判断对象的原型是否等于类型的原型，直到对象的原型为null，因为原型链最终为null</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function instanceofLast(left,right) &#123;</span><br><span class="line">    let prototype &#x3D; right.prototype</span><br><span class="line">    let left &#x3D; left.__proto__</span><br><span class="line">    while(true) &#123;</span><br><span class="line">        if(left &#x3D;&#x3D;&#x3D; null || left &#x3D;&#x3D;&#x3D; undefined) return false</span><br><span class="line">        if(prototype &#x3D;&#x3D;&#x3D; left) return true</span><br><span class="line">        left &#x3D; left.__proto__</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="说说CSS盒模型-如何进行不同和模型的切换"><a href="#说说CSS盒模型-如何进行不同和模型的切换" class="headerlink" title="说说CSS盒模型,如何进行不同和模型的切换"></a>说说CSS盒模型,如何进行不同和模型的切换</h2><p>W3C标准的盒子模型：width = content（内容）+ padding + border + margin</p>
<p>IE盒子模型: width = content(内容+padding+border) + margin</p>
<p>在common.js公共文件里面设置box-sizing来进行全局设置</p>
<h2 id="能不能说一说浏览器本地存储？各自的优缺点"><a href="#能不能说一说浏览器本地存储？各自的优缺点" class="headerlink" title="能不能说一说浏览器本地存储？各自的优缺点?"></a>能不能说一说浏览器本地存储？各自的优缺点?</h2><p>浏览器的本地存储主要分为<code>Cookie</code>、<code>WebStorage</code>和<code>indexedDB</code>，其中<code>WebStorage</code>又可以分为<code>localStorage</code>和<code>sessionStorage</code>，接下来我们一一分析这些本地存储方案</p>
<p><strong>Cookie</strong></p>
<p><code>Cookie</code>最早开始被设计出来其实并不是做本地存储的，而是为了弥补<code>HTTP</code>在状态管理上的不足</p>
<p><code>HTTP</code>协议是一个无状态协议，客户端向服务端发起请求，服务器返回相应，故事就这样结束了，但是下次发起请求如何让服务端知道客户端是谁呢</p>
<p>这种背景下，就产生了<code>Cookie</code></p>
<p>Cookie的本质就是浏览器里面一个存储的很小的文本文件，内部以键值对的方式来存储(在chorome开发者面板的Application这一栏可以看到)，向同一个域名下发起请求，都会携带相同的Cookie，服务器拿到Cookie进行解析，便能拿到客户端的状态</p>
<p>Cookie的作用很好理解，就是用来做<strong>状态存储</strong>的，但是它也有诸多致命的缺陷</p>
<ul>
<li><ol>
<li>容量缺陷，Cookie的体积上限只有4KB，只能用来存储少量的信息</li>
</ol>
</li>
<li><ol start="2">
<li>性能缺陷，Cookie紧跟域名，不管域名下面的某一个地址需要不需要这个Cookie，请求都会携带上完整的Cookie，这样随着请求的次数增多，其实会造成巨大的性能浪费，因为请求携带了很多不必要的内容</li>
</ol>
</li>
<li><ol start="3">
<li>安全缺陷，由于Cookie以纯文本的形式在浏览器和服务器中传递，很容易被非法用户解惑，然后进行一系列篡改，在Cookie的有效期内重新发给服务器，这是相当危险的，另外在<code>HttpOnly</code>为false的情况下，Cookie信息能直接通过JS脚本来获取</li>
</ol>
</li>
</ul>
<p><strong>localStorage</strong></p>
<p><code>localStorage</code>有一点跟<code>Cookie</code>一样，就是针对一个域名，即在同一个域名下，会存储相同的一段localStorage</p>
<p>不过它相对Cookie还是有相当多的区别的</p>
<ul>
<li><ol>
<li>容量，localStorage的容量上限为5M,相比于Cookie的4K大大增加，当然这个5M是针对一个域名的，因此对于一个域名是持久存储的。</li>
</ol>
</li>
<li><ol start="2">
<li>只存在客户端，默认不参与服务端的通信，这样就很好地避免了Cookie带来的性能问题和安全问题 </li>
</ol>
</li>
<li><ol start="3">
<li>接口封装，通过localStorage暴露在全局，并通过它的<code>setItem</code>和<code>getItem</code>等方法进行操作,非常方便</li>
</ol>
</li>
</ul>
<p>操作方式</p>
<p> 接下来问来具体看看如何操作<code>localStorage</code></p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let obj &#x3D; &#123; name: &quot;sanyuan&quot;, age: 18 &#125;;</span><br><span class="line">localStorage.setItem(&quot;name&quot;, &quot;sanyuan&quot;); </span><br><span class="line">localStorage.setItem(&quot;info&quot;, JSON.stringify(obj));</span><br></pre></td></tr></table></figure>

<p>接着进入相同的域名就能拿到相应的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let name &#x3D; localStorage.getItem(&#39;nane&#39;)</span><br><span class="line">let info &#x3D; JSON.parse(localStorage.getItem(&#39;info&#39;))</span><br></pre></td></tr></table></figure>

<p>从这里可以看出，<code>localStorage</code>其实存储的都是字符串，如果是存储对象需要调用<code>JSON</code>的<code>stringfy</code>方法，并且用<code>JSON.parse</code>来解析成对象</p>
<p><strong>应用场景</strong></p>
<p>利用<code>localStorage</code>的较大容量和持久特性，可以利用<code>localStorage</code>存储一些内容稳定的资源，如官网的<code>logo</code>，存储<code>Base64</code>格式的图片资源，因此利用<code>localStorage</code></p>
<p><strong>sessionStorage</strong></p>
<p>特点</p>
<p><code>sessionStorage</code>以下方面和<code>localStorage</code>一致：</p>
<ul>
<li>容量，容量上线也为5M</li>
<li>只存在客户端，默认不参与服务端通信</li>
<li>接口封装，除了<code>sessionStorage</code>名字有变化，存储方式，操作方式均和<code>localStorage</code>一致</li>
</ul>
<p>但<code>sessionStorage</code> 和 <code>localStorage</code>有一个本质的区别，那就是前者只是会话级别的存储，并不是持久化存储，会话结束，也就是页面关闭，这部分<code>sessionStorage</code>就不复存在了</p>
<p>应用场景</p>
<ul>
<li><ol>
<li>可以用它做表单信息进行维护，将表单信息存储在里面，可以保证页面即使刷新也不会让之前的表单信息丢视</li>
</ol>
</li>
<li><ol start="2">
<li>可以利用它存储本地浏览记录，如果页面关闭后不需要这些记录，用<code>sessionStorage</code>就再合适不过了，事实上微博就采取了这样的存储方式</li>
</ol>
</li>
</ul>
<p><strong>indexedDB</strong></p>
<p><code>indexedDB</code>是运行子啊浏览器中的<code>非关系型数据库</code>，本质上是数据库，绝对不是和刚才WebStorage的5M一个量级，理论上这个容量是没有上限的</p>
<p>接着我们来分析一下<code>indexDB</code>的一些重要特性，除了拥有数据库本身的特性，比如<code>支持事务</code>和<code>存储二进制数据</code>，还有一些特性需要格外注意</p>
<ul>
<li><ol>
<li>键值对存储，内部蚕蛹<code>对象仓库</code>存放数据，再这个对象仓库中数据采用<strong>键值对</strong>的方式来存储</li>
</ol>
</li>
<li><ol start="2">
<li>异步操作，数据库的读写属于I/O操作，浏览器中对异步I/O提供了支持</li>
</ol>
</li>
<li><ol start="3">
<li>受同源策略限制，即无法访问跨域的数据库</li>
</ol>
</li>
</ul>
<p> <strong>总结</strong></p>
<p>浏览器中各种本地存储和缓存技术的罚站，给前端带来了大量机会，PWA也正是依托了这些优秀的存储方案才得以罚站起来，重新梳理一下这些本地存储方案</p>
<ul>
<li><ol>
<li><code>cookie</code>并不适合存储，而且存在非常多的缺陷</li>
</ol>
</li>
<li><ol start="2">
<li><code>WebStorage</code>包括 <code>localStorage</code>和<code>sessionStorage</code>，默认不会参与服务器的通信</li>
</ol>
</li>
<li><ol start="3">
<li><code>indexedDB</code>为运行在浏览器上的非关系型数据库，为大量数据的存储提供了接口</li>
</ol>
</li>
</ul>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">林间有风</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://wuhuiluo.github.io/posts/16835/">https://wuhuiluo.github.io/posts/16835/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wuhuiluo.github.io" target="_blank">林间有风</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/post.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://ae01.alicdn.com/kf/Hd5e16194f7bc48349a7aaee73874daddQ.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="lazyload post-qr-code__img" src="https://ae01.alicdn.com/kf/Ha11ed2fe8af04214a28bd8137a48637bT.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="next-post pull-full"><a href="/posts/41384/"><img class="next_cover lazyload" data-src="/img/post.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">HTTP总结</div></div></a></div></nav><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div class="vcomment" id="vcomment"></div><script src="https://cdn.jsdelivr.net/gh/wuhuiluo/jscdn@2.0/js/valine.js"></script><script>var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;

window.valine = new Valine({
  el:'#vcomment',
  appId: 'b0Ueygg4sFNxOaNq7vzWxRry-gzGzoHsz',
  appKey: 'p1QGVkL3HYKzzy0jG2rRYzuH',
  notify: false,
  verify: false,
  placeholder: '畅所欲言',
  avatar: 'monsterid',
  meta: guest_info,
  pageSize: '10',
  lang: 'en',
  recordIP: false,
  serverURLs: '',
  emojiCDN: '',
  emojiMaps: ""
});</script></div></article></main><footer id="footer" style="background-image: url(/img/post.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021  <i id="heartbeat" class="fa fas fa-heartbeat"></i> 林间有风</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>hexo</span></a><span class="footer-separator">|</span><span>林间有风 </span><a href="https://github.com/wuhuiluo" target="_blank" rel="noopener"><span>ButterFly</span></a></div><div class="footer_custom_text">Welcome to 林间有风</div></div><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"><meta name="generator" content="Hexo 4.2.0"></head></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode far fa-moon" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = false;
POWERMODE.shake = false;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/lazysizes@latest/lazysizes.min.js" async=""></script><script src="/js/third-party/click_heart.js"></script><script src="https://cdn.jsdelivr.net/npm/vue@2.6.11"></script><script src="/gitcalendar/js/gitcalendar.js"></script><script src="/js/languages.js"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/haruto.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>